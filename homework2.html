<!doctype html>
<html lang="el">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HMWK 2 — Κατανομή & Κρυπτογράφηση (Ιθάκη, Κ.Π. Καβάφης)</title>
  <style>
    :root{
      --bg:#fafafa;
      --card:#ffffff;
      --ink:#111;
      --muted:#555;
      --accent:#0b57d0;
    }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Arial, Helvetica, sans-serif;}
    .wrap{max-width:900px;margin:32px auto;padding:0 16px;}
    header,footer,.card{background:var(--card);border:1px solid #eee;border-radius:14px;box-shadow:0 2px 8px rgba(0,0,0,.04)}
    header,footer{padding:20px}
    h1{font-size:28px;line-height:1.25;margin:0 0 4px}
    .sub{color:var(--muted);font-size:16px;margin:0}
    .card{padding:22px;margin:18px 0}
    h2{font-size:22px;margin:0 0 10px}
    p{font-size:18px;line-height:1.5;margin:10px 0}
    blockquote, pre{white-space:pre-wrap;background:#f6f8fb;border:1px solid #e6ebf4;border-radius:12px;padding:14px 16px;margin:12px 0;font-size:18px;line-height:1.5}
    table{width:100%;border-collapse:collapse;margin:10px 0;font-size:17px}
    th,td{border:1px solid #e7e7e7;padding:8px 10px;text-align:center}
    th{background:#f3f6fb}
    .note{color:var(--muted);font-size:15px}
    code{background:#f1f1f1;padding:2px 6px;border-radius:6px}
    .kicker{color:var(--accent);font-weight:bold}
  </style>
</head>
<body>
  <main class="wrap">
    <header>
      <h1>Κατανομή & Κρυπτογράφηση πάνω σε ελληνικό κείμενο</h1>
      <p class="sub">Μάθημα: Στατιστική • Έτος: 2025–26 • Φοιτητής: Konstantinos Tziakouris (2229757)</p>
    </header>

    <section class="card">
      <h2>Κείμενο δεδομένων</h2>
      <p>
        Χρησιμοποιώ ως σύνολο δεδομένων το ποίημα <strong>«Ιθάκη»</strong> του
        <strong>Κ. Π. Καβάφη</strong> (δημόσιο κτήμα· θάνατος 1933). Μικρός
        φόρος τιμής σ’ έναν από τους σπουδαίους Έλληνες ποιητές.
      </p>
      <blockquote id="poem">
Σα βγεις στον πηγαιμό για την Ιθάκη,
να εύχεσαι να ’ναι μακρύς ο δρόμος,
γεμάτος περιπέτειες, γεμάτος γνώσεις.
Τους Λαιστρυγόνας και τους Κύκλωπας,
τον θυμωμένο Ποσειδώνα μη φοβάσαι,
τέτοια στον δρόμο σου ποτέ σου δεν θα βρεις,
αν μένει η σκέψη σου υψηλή, αν εκλεκτή
συγκίνηση το πνεύμα και το σώμα σου αγγίζει.
Τους Λαιστρυγόνας και τους Κύκλωπας,
τον άγριο Ποσειδώνα δεν θα συναντήσεις,
αν δεν τους κουβανείς μες στην ψυχή σου,
αν η ψυχή σου δεν τους στήνει εμπρός σου.

Να εύχεσαι να ’ναι μακρύς ο δρόμος.
Πολλά τα καλοκαιρινά πρωινά να είναι
που με τι ευχαρίστηση, με τι χαρά
θα μπαίνεις σε λιμένας πρωτοειδωμένους·
να σταματήσεις σ’ εμπορεία Φοινικικά,
και τες καλές πραγμάτειες ν’ αποκτήσεις,
σεντέφια και κοράλλια, κεχριμπάρια κ’ έβενους,
και ηδονικά μυρωδικά κάθε λογής,
όσο μπορείς πιο άφθονα ηδονικά μυρωδικά·
σε πόλεις Αιγυπτιακές πολλές να πας,
να μάθεις και να μάθεις απ’ τους σπουδασμένους.

Πάντα στον νου σου να ’χεις την Ιθάκη.
Το φθάσιμον εκεί είν’ ο προορισμός σου.
Αλλά μη βιάζεις το ταξίδι διόλου.
Καλύτερα χρόνια πολλά να διαρκέσει·
και γέρος πια ν’ αράξεις στο νησί,
πλούσιος με όσα κέρδισες στον δρόμο,
μη προσδοκώντας πλούτη να σε δώσει η Ιθάκη.

Η Ιθάκη σ’ έδωσε τ’ ωραίο ταξίδι.
Χωρίς αυτήν δεν θα ’βγαινες στον δρόμο.
Άλλα δεν έχει να σε δώσει πια.

Κι αν πτωχική την βρεις, η Ιθάκη δεν σε γέλασε.
Έτσι σοφός που έγινες, με τόση πείρα,
ήδη θα το κατάλαβες οι Ιθάκες τι σημαίνουν.
      </blockquote>
      <p class="note">
        Πηγή κειμένου: ψηφιακές εκδόσεις/αρχεία ανοικτού κειμένου (π.χ. Πανεπιστήμιο Αθηνών, Πύλη για την Ελληνική Γλώσσα).
      </p>
    </section>

    <section class="card">
      <h2>Δεδομένα & Κατανομές</h2>
      <p>Υπολογίζω την κατανομή των ελληνικών γραμμάτων στο παραπάνω κείμενο (τονικές/διαλυτικά αφαιρούνται, ς→σ).</p>
      <table id="freq">
        <thead><tr><th>Γράμμα</th><th>Πλήθος</th><th>Συχνότητα (%)</th></tr></thead>
        <tbody></tbody>
      </table>
      <p class="note">Τα αποτελέσματα υπολογίζονται απευθείας από το κείμενο της «Ιθάκης» κατά τη φόρτωση της σελίδας.</p>
    </section>

    <section class="card">
      <h2>Κρυπτογράφηση Καίσαρα (ελληνικό αλφάβητο, k = 3)</h2>
      <p>Παράδειγμα πάνω στον πρώτο στίχο του ποιήματος.</p>
      <p class="kicker">Αρχικό:</p>
      <blockquote id="plain">Σα βγεις στον πηγαιμό για την Ιθάκη</blockquote>
      <p class="kicker">Κρυπτογραφημένο:</p>
      <blockquote id="cipher"></blockquote>
      <p class="kicker">Αποκρυπτογράφηση (έλεγχος):</p>
      <blockquote id="decipher"></blockquote>
      <p class="note">Αλφάβητο: αβγδεζηθικλμνξοπρστυφχψω (μήκος 24). Χειρισμός τελικού σίγμα: ς → σ.</p>
    </section>

    <footer>
      <p style="text-align:center;margin:0">
        Στατιστική — Κυβερνοασφάλεια • Homework 2 • 2025–26 • Konstantinos Tziakouris (2229757)
      </p>
    </footer>
  </main>

  <script>
    // ---------- Helpers for Greek text ----------
    const alphabet = "αβγδεζηθικλμνξοπρστυφχψω";
    function normalizeGreek(s){
      // lower, strip diacritics, map final sigma
      return s.toLowerCase()
        .normalize('NFD').replace(/[\u0300-\u036f]/g,'')
        .replace(/ς/g,'σ');
    }

    // ---------- Frequency table from poem ----------
    (function buildFrequency(){
      const poem = document.getElementById('poem').textContent;
      const txt = normalizeGreek(poem);
      const counts = Object.fromEntries([...alphabet].map(ch=>[ch,0]));
      let total = 0;
      for(const ch of txt){
        if(alphabet.includes(ch)){ counts[ch]++; total++; }
      }
      const rows = Object.entries(counts)
        .sort((a,b)=>b[1]-a[1])
        .map(([ch,n])=>{
          const pct = total? (100*n/total).toFixed(2) : "0.00";
          return `<tr><td>${ch}</td><td>${n}</td><td>${pct}</td></tr>`;
        }).join("");
      document.querySelector('#freq tbody').innerHTML = rows;
    })();

    // ---------- Caesar cipher (Greek) ----------
    function caesarGreek(s, k){
      const n = alphabet.length;
      const norm = normalizeGreek(s);
      let out = "";
      for(let i=0;i<norm.length;i++){
        const ch = norm[i];
        if(alphabet.includes(ch)){
          const idx = alphabet.indexOf(ch);
          out += alphabet[(idx + k + n) % n];
        }else{
          out += s[i]; // keep original spacing/punctuation/uppercase
        }
      }
      return out;
    }

    const plain = document.getElementById('plain').textContent;
    const cipher = caesarGreek(plain, 3);
    document.getElementById('cipher').textContent = cipher;
    // decode back:
    const decoded = caesarGreek(cipher, -3);
    document.getElementById('decipher').textContent = decoded;
  </script>
</body>
</html>
