<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Homework 5 — Measures of Location and Online Algorithms</title>
<style>
  :root {
    --bg: #f8fafc;
    --card: #fff;
    --ink: #111;
    --muted: #555;
    --line: #e5e5e5;
    --accent: #004aad;
    --accent2: #0066cc;
  }
  html, body {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: Arial, Helvetica, sans-serif;
    line-height: 1.45;
  }
  header {
    padding: 54px 20px 40px;
    background: linear-gradient(120deg, var(--accent), var(--accent2));
    color: #fff;
    text-align: center;
  }
  header h1 { margin: 0 0 8px; font-size: 30px; }
  header p { margin: 0; font-size: 15px; opacity: .95; }

  .wrap { max-width: 900px; margin: 24px auto; padding: 0 18px 28px; }
  .card {
    background: var(--card); border: 1px solid var(--line); border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,.04); padding: 22px 24px; margin-bottom: 18px;
  }
  h2, h3 { text-align: center; margin: 8px 0 10px; color: var(--accent); }
  p { margin: 10px 0; text-align: justify; }
  .meta { color: var(--muted); text-align: center; font-size: 14px; margin: 6px 0 10px; }

  table { border-collapse: collapse; width: 100%; margin: 10px 0; }
  th, td { border: 1px solid var(--line); padding: 10px; text-align: center; }
  th { background: #f2f5f9; }
  code { background: #f2f5f9; padding: 2px 5px; border-radius: 6px; }

  .footer { border-top: 1px solid var(--line); padding-top: 12px; margin-top: 10px;
    text-align: center; color: var(--muted); font-size: 14px; }

  input[type="number"]{ padding:6px; margin:5px; border-radius:6px; border:1px solid var(--line); width:110px; }
  button{ background:var(--accent); color:#fff; border:none; padding:6px 10px; border-radius:6px; cursor:pointer; }
  button:hover{ background:var(--accent2); }
  ul { margin: 8px 0 0 18px; }
</style>
</head>
<body>

<header>
  <h1>Homework 5 — Measures of Location and Online Algorithms</h1>
  <p>Konstantinos Tziakouris • Matricola 2229757 • Statistics • A.Y. 2025 – 2026</p>
</header>

<main class="wrap">

<section class="card">
  <h2>1) Introduction</h2>
  <p>
    This homework surveys key <strong>measures of location</strong> and <strong>dispersion</strong>, then implements
    numerically stable <strong>online (incremental)</strong> updates for the mean and variance. The goal is to be concise, practical, and fully aligned with the class brief.
  </p>
</section>

<section class="card">
  <h2>2) Measures of Location</h2>
  <p>Common centers (when to use):</p>
  <ul>
    <li><strong>Arithmetic mean</strong> — default for symmetric data; efficient but sensitive to outliers.</li>
    <li><strong>Median</strong> — robust to skew/outliers; good for heavy tails.</li>
    <li><strong>Mode</strong> — most frequent value; useful for categorical data or multimodality.</li>
    <li><strong>Geometric mean</strong> — multiplicative data (growth rates, compounding); requires positive values.</li>
    <li><strong>Harmonic mean</strong> — averaging rates/ratios (e.g., speeds); requires positive values.</li>
  </ul>
</section>

<section class="card">
  <h2>3) Measures of Dispersion</h2>
  <ul>
    <li><strong>Range</strong> (max−min) — quick spread, fragile to outliers.</li>
    <li><strong>Variance</strong> (σ²) — average squared deviation from the mean.</li>
    <li><strong>Standard deviation</strong> (σ) — sqrt(variance), same units as data.</li>
    <li><strong>Interquartile range</strong> (IQR) — middle 50% (Q3−Q1); robust.</li>
    <li><strong>Median absolute deviation</strong> (MAD) — robust spread around the median.</li>
    <li><strong>Coefficient of variation</strong> (CV) — SD/mean; unitless relative variability.</li>
  </ul>
</section>

<section class="card">
  <h2>4) Example (static) — Mean & Variance</h2>
  <p>Dataset: <code>5, 7, 10, 13, 15</code></p>
  <table>
    <tr><th>Data</th><th>5</th><th>7</th><th>10</th><th>13</th><th>15</th></tr>
  </table>
  <p>
    <strong>Mean</strong>: (5+7+10+13+15)/5 = <strong>10</strong><br>
    <strong>Variance</strong>: [25+9+0+9+25]/5 = <strong>14</strong> &nbsp;→&nbsp; <strong>SD</strong> ≈ 3.742
  </p>
</section>

<section class="card">
  <h2>5) Recurrence relationships (proof sketches)</h2>
  <h3>Mean</h3>
  <p>
    Let <code>μ<sub>n−1</sub></code> be the mean of the first <code>n−1</code> values and add <code>x<sub>n</sub></code>.
    Then
  </p>
  <p style="text-align:center;">
    <code>μ<sub>n</sub> = μ<sub>n−1</sub> + (x<sub>n</sub> − μ<sub>n−1</sub>)/n</code>
  </p>
  <p class="meta">
    Sketch: Start from <code>μ<sub>n</sub> = ( (n−1)μ<sub>n−1</sub> + x<sub>n</sub> ) / n</code> and rearrange.
  </p>

  <h3>Variance (Welford form)</h3>
  <p>
    Maintain <code>M2</code> = sum of squared deviations. For new value <code>x<sub>n</sub></code>:
  </p>
  <p style="text-align:center;">
    <code>δ = x<sub>n</sub> − μ<sub>n−1</sub></code><br>
    <code>μ<sub>n</sub> = μ<sub>n−1</sub> + δ/n</code><br>
    <code>M2<sub>n</sub> = M2<sub>n−1</sub> + δ (x<sub>n</sub> − μ<sub>n</sub>)</code><br>
    <code>σ²<sub>n</sub> = M2<sub>n</sub> / n</code> (population) &nbsp; or &nbsp; <code>M2<sub>n</sub> / (n−1)</code> (sample).
  </p>
  <p class="meta">
    Sketch: expand <code>∑(x−μ<sub>n</sub>)²</code>, substitute the update for <code>μ<sub>n</sub></code>, and cancel cross terms;
    this avoids catastrophic cancellation compared with naive <code>(∑x² − (∑x)²/n)/n</code>.
  </p>
</section>

<section class="card">
  <h2>6) Online Mean & Variance (interactive)</h2>
  <p>Add values one by one to see the running statistics computed online.</p>
  <div style="text-align:center;">
    <input type="number" id="newValue" placeholder="Enter value">
    <button onclick="addValue()">Add</button>
    <button onclick="resetCalc()" style="margin-left:6px;background:#666;">Reset</button>
  </div>
  <p id="output" style="text-align:center; margin-top:10px;"></p>
  <script>
    let n = 0, mean = 0, M2 = 0;
    function addValue(){
      const v = parseFloat(document.getElementById('newValue').value);
      if (isNaN(v)) return;
      n++;
      const delta = v - mean;
      mean += delta / n;
      M2 += delta * (v - mean);
      const varPop = n > 1 ? M2 / n : 0;
      const varSam = n > 1 ? M2 / (n - 1) : 0;
      document.getElementById('output').innerHTML =
        `Count: ${n}<br>Mean: ${mean.toFixed(4)}<br>Variance (population): ${varPop.toFixed(4)}<br>Variance (sample): ${varSam.toFixed(4)}`;
      document.getElementById('newValue').value = '';
    }
    function resetCalc(){
      n = 0; mean = 0; M2 = 0;
      document.getElementById('output').innerHTML = 'Cleared.';
    }
  </script>
</section>

<section class="card">
  <h2>7) Extras & Notes</h2>

  <h3>Quick chooser</h3>
  <table>
    <thead>
      <tr><th>Situation</th><th>Center</th><th>Spread</th><th>Why</th></tr>
    </thead>
    <tbody>
      <tr><td>Symmetric, few outliers</td><td>Mean</td><td>SD / Variance</td><td>Efficient, standard reporting</td></tr>
      <tr><td>Skewed or outliers</td><td>Median (or trimmed mean)</td><td>IQR / MAD</td><td>Robust to extremes</td></tr>
      <tr><td>Growth / multiplicative data</td><td>Geometric mean</td><td>SD of logs</td><td>Products become sums in log space</td></tr>
      <tr><td>Rates over fixed distance/time</td><td>Harmonic mean</td><td>IQR/MAD if skewed</td><td>Correct averaging of rates</td></tr>
      <tr><td>Compare variability across scales</td><td>—</td><td>Coefficient of variation</td><td>Unitless comparability</td></tr>
    </tbody>
  </table>

  <h3>Batch vs online — numerical stability</h3>
  <p>
    Online updates (Welford) use constant memory and resist round-off error; batch recomputation is
    slower, memory-heavier, and suffers from cancellation in large datasets. For streaming or large data,
    prefer online algorithms.
  </p>
</section>

<section class="card footer">
  2229757 Konstantinos Tziakouris · Statistics · A.Y. 2025 – 2026 · November 2025
</section>

</main>
</body>
</html>
